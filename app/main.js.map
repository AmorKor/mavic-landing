{"version":3,"sources":["main.ts"],"names":[],"mappings":"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","file":"main.js","sourcesContent":["interface INode {\r\n    element: any\r\n    next: INode | null\r\n    prev: INode | null\r\n}\r\n\r\ninterface ILinkedList {\r\n    getHead(): INode\r\n    getTail(): INode\r\n    getCurrent(): INode\r\n    getNodes: () => INode[]\r\n    \r\n    setCurrent(index: number): INode | null\r\n    toNext(): INode | null\r\n    toPrev(): INode | null\r\n}\r\n\r\ninterface IController {\r\n    getElement(): Element\r\n    getState(): string\r\n    renderState(isActive: boolean): void\r\n}\r\n\r\ninterface ITransformer {    \r\n    getElement: () => Element\r\n    setAction(action: string): string\r\n    setValue(value: string): string\r\n    render(): Element\r\n}\r\n\r\ninterface IPointers {\r\n    getControllers(): IController[]\r\n    renderState(index: number): void\r\n}\r\n\r\ninterface IPublisher {\r\n    subscribe(obs: IObserver): number\r\n    unsubscribe(obs: IObserver): IObserver[]\r\n    notify(data?: any): void\r\n}\r\n\r\ninterface IObserverList {\r\n    attach(obs: IObserver): number\r\n    detach(obs: IObserver): IObserver[]\r\n    getList(): IObserver[]\r\n}\r\n\r\ninterface IObserver {\r\n    update(data: any): void\r\n}\r\n\r\nconst compose = (...fns: any[]) => (arg: any) => \r\n    fns.reduceRight((acc, fn) => fn(acc), arg) \r\n\r\nconst pipe = (...fns: any[]) => (arg: any) => \r\n    fns.reduce((acc, fn) => fn(acc), arg)\r\n    \r\nconst withConstructor = (constructor: object) => (obj: object) => ({\r\n    __proto__: {\r\n        constructor\r\n    },\r\n    ...obj\r\n})    \r\n\r\ntype NodeFactory = (element: any) => INode\r\n\r\nconst NodeF: NodeFactory = (element) => ({    \r\n    element,\r\n    next: null,\r\n    prev: null\r\n}) \r\n\r\ntype NodeLinker = (nodes: INode[]) => INode[]\r\n\r\nconst linkNodes: NodeLinker = (nodes) => (\r\n    nodes.map((node, i, arr) => (\r\n        Object.assign(node, {\r\n            next: arr[i + 1],\r\n            prev: arr[i - 1]\r\n        })\r\n    ))\r\n)\r\n    \r\ntype LinkedListFactory = (nodes: NodeListOf<Element>) => (props: object) => ILinkedList\r\n\r\nconst LinkedList: LinkedListFactory = (nodes) => (props) => {\r\n    const collection = linkNodes([...nodes].map(NodeF))\r\n    let head = collection[0]\r\n    let tail = collection[collection.length - 1]\r\n    let current = collection[0]\r\n    \r\n    return {\r\n        ...props,\r\n        \r\n        getHead: () => head,\r\n        getTail: () => tail,\r\n        getCurrent: () => current,\r\n        getNodes: () => collection,\r\n        \r\n        setCurrent: (index) => collection[index] ? current = collection[index]: tail.next,\r\n        toNext: () => current.next ? current = current.next : current.next,\r\n        toPrev: () => current.prev ? current = current.prev : current.prev\r\n    }\r\n}\r\n\r\ntype ControllerFactory = ({}: {node: Element, activeSel: string}) => (props: object) => IController\r\n\r\nconst Controller: ControllerFactory = ({node, activeSel}) => (props)=> {\r\n    let isEnabled = node.classList.contains(activeSel) ? true : false\r\n    return {\r\n        ...props,\r\n    \r\n        getElement: () => node,\r\n        getState: () => isEnabled,\r\n        \r\n        renderState: (isActive) => {            \r\n            if(isActive) {\r\n                node.classList.add(activeSel)\r\n            } else {\r\n                node.classList.remove(activeSel)\r\n            }\r\n            isEnabled = isActive\r\n        },\r\n    }\r\n}\r\n\r\ntype TransformerFactory = ({}: {node: HTMLElement, action: string, value: string}) => (props: object) => ITransformer\r\n\r\nconst Transformer: TransformerFactory = ({node, action, value}) => (porps): ITransformer  => ({\r\n    ...porps,\r\n    \r\n    render() {\r\n        node.style.transform = `${action}(${value})`\r\n        return node\r\n    },\r\n    getElement: () => node,\r\n    setAction: (act) => (action = act),\r\n    setValue: (val) => (value = val)\r\n})\r\n\r\ntype ObserverListFactory = (observers?: IObserver[]) => IObserverList\r\n\r\nconst ObserverList: ObserverListFactory = (observers) => {\r\n    const _list: IObserver[] = observers ? observers : []\r\n    return {\r\n        attach: (obs) => _list.push(obs),\r\n        detach: (obs) => _list.splice(_list.indexOf(obs), 1),\r\n        getList: () => _list\r\n    }\r\n}\r\n\r\ntype PublisherFactory = (observers?: IObserverList) => IPublisher\r\n\r\nconst Publisher: PublisherFactory = (list) => {\r\n    let _observers = list ? list : ObserverList()\r\n    return {\r\n        subscribe: (obs) => _observers.attach(obs),\r\n        unsubscribe: (obs) => _observers.detach(obs),\r\n        notify: (data: any) => _observers.getList().forEach((obs: IObserver) => obs.update(data))\r\n    }\r\n}\r\n\r\ntype ObserverFactory<T> = (handler: T) => IObserver\r\n\r\nconst PointerObserver: ObserverFactory<IController> = (pointer) => {\r\n    const _pointer = pointer\r\n    return {\r\n        update(data) {\r\n            if(data === _pointer.getElement()) {\r\n                _pointer.renderState(true)\r\n            } else {\r\n                _pointer.renderState(false)\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nconst TransformerObserver: ObserverFactory<ITransformer> = (transformer) => {\r\n    const _transformer = transformer\r\n    return {\r\n        update(data: {value: number, index: number}) {\r\n            _transformer.setValue(`-${data.value * data.index}px`)\r\n            _transformer.render()\r\n        }\r\n    }\r\n}\r\n\r\nconst menu = {\r\n    button: Controller({\r\n        node: document.querySelector('.burger'),\r\n        activeSel: 'burger--active'\r\n    })({}),\r\n    nav: Controller({\r\n        node: document.querySelector('.menu'),\r\n        activeSel: 'menu--active'\r\n    })({}) \r\n}\r\n\r\ndocument.querySelector('.burger')?.addEventListener('click', () => {\r\n    if(!menu.nav.getState()) {\r\n        menu.button.renderState(true)\r\n        menu.nav.renderState(true)\r\n    } else {\r\n        menu.button.renderState(false)\r\n        menu.nav.renderState(false)\r\n    }\r\n})\r\n\r\nconst imgSlider = {\r\n    pages: LinkedList(document.querySelectorAll('.slider__img'))({}),\r\n    track: TransformerObserver(Transformer({\r\n        node: document.querySelector('.slider__inner'),\r\n        action: 'translateX'\r\n        })({})\r\n    ),\r\n    nextButton: Controller({\r\n        node: document.querySelector('.controller--right'),\r\n        activeSel: 'controller--active'}\r\n        )({}),\r\n    prevButton: Controller({\r\n        node: document.querySelector('.controller--left'),\r\n        activeSel: 'controller--active'}\r\n        )({}),\r\n    checkButtons: function() {\r\n        const current = this.pages.getCurrent()\r\n\r\n        if(!current?.prev) {\r\n            this.prevButton.renderState(false)\r\n        } else if(!current?.next){\r\n            this.nextButton.renderState(false)\r\n        } else {\r\n            this.prevButton.renderState(true)\r\n            this.nextButton.renderState(true)\r\n        }\r\n    }\r\n}\r\n\r\ndocument.querySelector('.controller--right')?.addEventListener('click', debounce(e => {\r\n    const current = imgSlider.pages.toNext() \r\n    imgSlider.track.update({\r\n        value: current?.element.clientWidth,\r\n        index: imgSlider.pages.getNodes().indexOf(current)\r\n    })\r\n\r\n    imgSlider.checkButtons()\r\n}, 300, true))\r\n\r\ndocument.querySelector('.controller--left')?.addEventListener('click', debounce(e => {\r\n    const current = imgSlider.pages.toPrev() \r\n    imgSlider.track.update({\r\n        value: current?.element.clientWidth,\r\n        index: imgSlider.pages.getNodes().indexOf(current)\r\n    })\r\n\r\n    imgSlider.checkButtons()\r\n}, 300, true))\r\n\r\nconst pageSlider = {\r\n    pages: LinkedList(document.querySelectorAll('.page'))({}),\r\n    track: TransformerObserver(Transformer({\r\n        node: document.querySelector('.body__inner'),\r\n        action: 'translateY'\r\n        })({})\r\n    ),\r\n    nextButton: Controller({\r\n        node: document.querySelector('.sliderBtn'),\r\n        activeSel: 'sliderBtn--active'}\r\n        )({}),\r\n    pointers: ObserverList(\r\n        [...document.querySelectorAll('.pointer')]\r\n        .map((el) => Controller({\r\n            node: el,\r\n            activeSel: 'menu__link--active'\r\n        })({}))\r\n        .map(PointerObserver)),\r\n    background: Controller({\r\n        node: document.querySelector('.background'),\r\n        activeSel: 'background--main'\r\n    })({}),\r\n    checkButton: function() {\r\n        const current = this.pages.getCurrent()\r\n        if(!current.next) {\r\n            this.nextButton.renderState(false)\r\n        } else {\r\n            this.nextButton.renderState(true)\r\n        }\r\n    },\r\n    checkBackground: function() {\r\n        const current = this.pages.getCurrent()\r\n        if(!current.prev) {\r\n            this.background.renderState(false)\r\n        } else {\r\n            this.background.renderState(true)\r\n        }\r\n    }\r\n}\r\n\r\nconst linkPublisher = Publisher(pageSlider.pointers)\r\nconst links = [...document.querySelectorAll('.pointer')]\r\n\r\ndocument.querySelector('.sliderBtn')?.addEventListener('click', debounce(e => {\r\n    const current = pageSlider.pages.toNext()\r\n    const index = pageSlider.pages.getNodes().indexOf(current)\r\n\r\n    pageSlider.track.update({\r\n        value: current?.element.clientHeight,\r\n        index: index\r\n    })\r\n\r\n    linkPublisher.notify(links[index])\r\n    pageSlider.checkButton()\r\n    pageSlider.checkBackground()\r\n}, 300, true))\r\n\r\ndocument.querySelector('.header')?.addEventListener('click', debounce(e => {\r\n    const current = pageSlider.pages.setCurrent(\r\n        links.indexOf(e.target)\r\n    )\r\n    \r\n    pageSlider.track.update({\r\n        value: current.element.clientHeight,\r\n        index: pageSlider.pages.getNodes().indexOf(current)\r\n    })\r\n\r\n    linkPublisher.notify(e.target)\r\n\r\n    pageSlider.checkButton()\r\n    pageSlider.checkBackground()\r\n}, 300, true))\r\n\r\nconst answers = ObserverList([...document.querySelectorAll('.question__answer')].map(a => {\r\n    return PointerObserver(Controller({\r\n        node: a,\r\n        activeSel: 'question__answer--active'\r\n    })({}))\r\n}))\r\n\r\nconst qaButtons = ObserverList([...document.querySelectorAll('.question__controller')].map(c => {\r\n    return PointerObserver(Controller({\r\n        node: c,\r\n        activeSel: 'question__controller--active'\r\n    })({}))\r\n}))\r\n\r\nconst answerPublisher = Publisher(answers)\r\nconst qaButtonPublisher = Publisher(qaButtons)\r\n\r\ndocument.querySelector('.qa__wrapper')?.addEventListener('click', e => {\r\n    qaButtonPublisher.notify(e.target)\r\n})\r\n\r\nfunction debounce(fn: any, wait: number, immediate?: boolean): any\r\n\r\nfunction debounce(fn, wait, immediate) {\r\n    let timeout: number |  undefined\r\n\r\n    return function deffered(...args: any[]) {\r\n        const context = this\r\n        const callNow = immediate && !timeout\r\n\r\n        const invoke = () => {\r\n            timeout = undefined\r\n            if(!immediate) fn.apply(context, args)\r\n        }\r\n\r\n        clearTimeout(timeout)\r\n        \r\n        timeout = setTimeout(invoke, wait)\r\n\r\n        if(callNow) fn.apply(context, args)\r\n    }\r\n}\r\n\r\nwindow.addEventListener('resize', debounce(() => {\r\n    const current = pageSlider.pages.getCurrent()\r\n\r\n    pageSlider.track.update({\r\n        value: current.element.clientHeight,\r\n        index: pageSlider.pages.getNodes().indexOf(current)\r\n    })\r\n}, 200))\r\n\r\ndocument.querySelector('.pageContainer')?.addEventListener('scroll', () => {\r\n    console.log('scrolled')\r\n})"]}